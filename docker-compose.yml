version: "3"
networks:
  geoserver-network:
    driver: bridge
services:
  geoserver:
    build:
      context: .
      dockerfile: ./Dockerfile
      args:
        INITIAL_MEMORY: "4G"
        MAXIMUM_MEMORY: "4G"
        PLUGIN_PATHS: "./resources/geoserver-plugins/*zip"
        GEOSERVER_WEBAPP_SRC: "https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.2/geoserver-2.21.2-war.zip/download#"
    container_name: geoserver
    ports:
      - 8082:8080
    networks:
      - geoserver-network
    volumes:
      - /opt/geoserver/data_dir_2.21.2:/var/geoserver/datadir
      - /mnt/sdc/gwc_2.21.2:/var/geoserver/gwc_cache_dir
